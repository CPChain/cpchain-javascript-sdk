import { BigNumber } from 'ethers'
import { simpleEncode } from './abi'

test('abi test', () => {
  const tests = [
    [simpleEncode('joinGame(uint64,uint256)', 1, 1), '9d65a67e00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001'],
    [simpleEncode('transfer(address,uint256)', '0x38981c70448189768fb1b4e88ed0ccc833c86b0e', BigNumber.from(100).toHexString()), 'a9059cbb00000000000000000000000038981c70448189768fb1b4e88ed0ccc833c86b0e0000000000000000000000000000000000000000000000000000000000000064'],
    [simpleEncode('transfer(address,uint256)', '0x38981c70448189768fb1b4e88ed0ccc833c86b0e', BigNumber.from(100)), 'a9059cbb00000000000000000000000038981c70448189768fb1b4e88ed0ccc833c86b0e0000000000000000000000000000000000000000000000000000000000000064']
  ]
  tests.forEach(it => {
    const [data, expected] = it
    expect(data.toString('hex')).toEqual(expected)
  })
})
